Anna Rose (00:00:05):
Welcome to Zero Knowledge. I'm your host, Anna Rose. In this podcast, we will be exploring the latest in zero knowledge research and the decentralized web, as well as new paradigms that promise to change the way we interact and transact online.

Anna Rose (00:00:27):
This week Tarun and I chat with Vasiliy Shapvalov co-founder and Tech Lead of Lido and Felix Lutsch, CCO of Chorus One. We talk all about staking derivatives or liquid staking. We look at how liquid staking developed as an idea and how it works on state ETH in the ETH2 model as well as on live POS networks. But before we start in, I want to recommend you head over to gitcoin as we are in the midst of a grant CLR, matching round. Not only do you have the Zero Knowledge Podcast grant up and a big thank you to everyone who has donated in this round so far. And in previous rounds, we also have ZK Hack grant up. And this time around, we have an entire matching pool dedicated to funding, ZK tech and tools. This is supported by the ZK Validator and a number of other great ZK-focused projects. So check out the projects, building the future of ZK, head over to Gitcoin and donate today. I also want to thank this week's sponsor Least Authority. Least Authority is committed to building and supporting the development of technology to preserve your privacy and keep your data secure. They do this by reviewing third-party software for securing vulnerabilities and by building their own secure software with specific focus on increasing the security of the data and the systems Least Authority currently has several job opportunities, including a Tech Lead to build a service around the zero knowledge access passes or ZKAPs, a cryptographic authorization protocol, join them to create a new privacy preserving service that enables the value of ZKAPs beyond their initial implementation. While cryptographers are welcome to apply even some familiarity with how to utilize cryptography is enough. Visit leastauthority.com to get more details about the job listing, read their findings on projects, such as Tezos and Mina and learn about their work on zero knowledge proofs and ZK-snarks. So thank you again, Least Authority. Now here's our episode about Liquid Staking.

Anna Rose (00:02:22):
So today Tarun and I are here with Vasiliy Shapvalov who's the Co-founder and Tech Lead at Lido, as well as Felix Lutsch, who is CCO at Chorus One, a project that is leading Lido for Solana and is kind of an important partner to the Lido project. Welcome both of you to the show.

Vasiliy and Felix (00:02:39):
Hey, thanks. Thank you, glad to be here.

Anna Rose (00:02:41):
So you're coming both from two different organizations today. What we're going to be talking about is liquid staking of ETH primarily, but I was hoping to actually use this to talk about liquid staking as a, like a larger topic. Let's first start off by hearing a little bit about you Vasiliy and yeah maybe tell us a little bit about what you were doing before you founded Lido.

Vasiliy Shapvalov (00:03:04):
So before I started working on Lido, I walked in P2P. I continued to walk in P2P validator, pretty staking providers, provided that I came to in February 2020 as a CTO. And before that, I used to make an unsuccessful startup on in Cosmos ecosystem. Okay. Yeah, it was about NFTs we were before time.

Anna Rose (00:03:30):
Little bit early maybe.

Vasiliy Shapvalov (00:03:32):
Yeah, yeah, yeah. The problem was there were no NFTs on Cosmos, so...

Anna Rose (00:03:38):
I guess, yeah. Was it on Ethermint?

Vasiliy Shapvalov (00:03:41):
No, just plain, like we were doing a marketplace for NFTs, but there were no NFTs on Cosmos, so it's

Anna Rose (00:03:48):
Oh, there weren't enough. Okay. Okay. It didn't have anything to do with the Clover's NFT project.

Vasiliy Shapvalov (00:03:53):
No, no. Like the close relationship with that is that like, we, we know each other with Billy, so that's it. Before that I was an engineer, engineering manager informational security.

Anna Rose (00:04:07):
Nice. But so the job though, right before Lido was working at P2P like another kind of large validator company org. So you're coming, I guess, more from the validator perspective when you decided to jump into Lido. So maybe tell us what Lido is and maybe how that potentially relates.

Vasiliy Shapvalov (00:04:29):
Yeah Lido is a decentralized organizations that builds liquids staking protocols. It started with a liquid staking protocol for Ethereum. It now has Ethereum, Terra and Solana and has teams working on liquid staking for Polygon and Polkadot and maybe a few others in the works. It hasn't started yet. So it's a DAO, decentralized organization because the topic of liquid staking is very touchy. It's like basically working in the heart of blockchain security and it has to have a clear governance process that is not like unilateral and should be very mindful of the ecosystems working and the, like the larger world and the blockchain ecosystem in centrality. So that's why we we've chosen to start the DAO.

Anna Rose (00:05:27):
Got it. But given that you were coming as a validator originally, like, did the idea come because you were working in the validator space and saw this need? There's a link there. I mean, also Felix like, of course one is the validator companie. So I feel like there's this strong connection between the validator community and liquid staking. What is that?

Vasiliy Shapvalov (00:05:46):
For me, The start of Lido was like pretty clear, I came to work in p2p in February 2020, like 20th, February, or something like that. And the middle of March, I did the paper on like the first draft of Lido, because like the first thing I did on the job was like to take stock of the of people who are working in an, in, in p2p and the set up, the infra and and stuff like that. And the second thing I like written down the most important thing to happen to in 2020 and the top one was launch a proof of stake on the Ethereum, which was pretty clear that in proof of stake, it would be like the, the most important thing to happen in 2020. And the proof of stake on Ethereum, is not great for node operator for professional, node operators. It doesn't have delegation baked-in yeah. So it it's basically either you stake yourself, or you have like a legal agreement with node operator or you do a custodial stake in the economy changes and stuff like that. And with no native protocol delegation, it meant that like, some people will stake by themselves and some funds and node the operators who are close to funds, like there is kind for them. We'll get like a lot of stake. But most people who are not pros will go to custodial protocols, like exchanges and stuff like that. There was a Rocket Pool protocol in the works just launched a few weeks ago. So, and it also didn't work quite well for not operators because it required a significant self stake, like significant bond. And it was just like, not really capital efficient for professional node operator. So people who have a lot of capital, have a lot of technical knowledge and vice versa. So like we thought, we have to design a different protocol.

Anna Rose (00:07:39):
Got it. And that actually makes sense. It's like liquid staking, but because of the Ethereum setup, the fact that there's a lot of small stakers, 32 ETH is what you need to be a stake to be a validator on Ethereum, but you can't really like add more into that. Can you? Like into the individual staked portion? Like if you're running a node and you're a staker, that's how much you're going to put, am I right?

Felix Lutsch (00:08:01):
You can start a second node, basically. Exactly.

Anna Rose (00:08:04):
So in that case, it's almost like the, the problem you're trying to solve here is because of the limitations of the Ethereum setup for validation, you needed a pooling system. And yet liquid staking to me is like a larger topic, but let's actually pause that because Felix, first, I want to hear a little bit from you. Tell me a little bit, so you're from a different organization, Chorus One, quick disclosure, the zero knowledge validator actually works with Chorus One on a few of the networks that we validate on. So I know you more from that context. But do tell us a little bit about your perspective as a validator and what Lido kind of is for validator and how you're thinking about it.

Felix Lutsch (00:08:45):
Yeah. That's interesting question. I think, as a validator node operator in the space, you originally have like a few parties that you can receive delegation from, like let's say, in the Cosmos ecosystem where it is dedicated proof of stake exists or Tezos. And traditionally these are the VC funds or maybe like people individually holding their tokens or you do partnerships with, let's say a custodian or something Lido, I think is a very different concept where essentially now you're getting the delegation from this on chain protocol and that may have completely different ways why they delegate to you or, and it's also like yeah. Decentralized organization. So it has actually a kind of community of different also node operators, but also like DeFi participants and a lot of other players. So it's kind of interesting because now I guess it's, it's becomes a new avenue for, for receiving delegations or receiving stake that you can use to security networks.

Anna Rose (00:09:49):
Yeah. I was thinking it might help. Like, I feel like the audience tends to know this difference of like proof of work, proof of stake, but maybe we can give a little bit of a brief on proof of stake networks, staking in general, what the point is, because I do think later on there's some questions that liquid staking brings up, that challenges that a bit. So let's start there on the concept of proof of stake and staking in general. What is the thinking around that? How does staking your funds actually secure the network?

Vasiliy Shapvalov (00:10:21):
The gist of staking, which is not only using the proof of stake protocols consensus protocols, but also in, in a lot of financial applications in blockchain as well. And even non financials and sometime like if _______ is that you put some value on the line and optionally either just lock it or maybe like put it at risk, you perform some work and your are getting rewarded for that work and for locking capital. And if you misbehave, you can slashed. That's also optional, optional part.

Anna Rose (00:11:01):
Basically how the staking incentivized is that you have these rewards that come back to you you are locking your funds and the more funds locked that sort of becomes what they call like the security of the network, right? Like the amount, the value that's locked in is how much, if you wanted to try a 51% attack or whatever, the proof of stake percentage attack you need, you would need a percentage of that whole total value in order to actually execute it.

Vasiliy Shapvalov (00:11:31):
Yes. You need to control that.

Anna Rose (00:11:34):
I want to mention this now, because I feel like later on when we get into liquid staking, it does bring up some questions about that exact thing, that security of the network, but, okay. Yeah. So, but let's start with the ETH staking. I already sort of mentioned this the 32 ETH. Maybe. Can you give me a bit of a sense since I know that you're deep in this, like, what is the breakdown of the Ethereum staking landscape right now? And I feel like it might be different from other networks where you might have larger whales who will stake all of their tokens from like, say one address or two addresses. Here I guess it's very different. So how is the landscape of validators in Ethereum looking today?

Vasiliy Shapvalov (00:12:14):
The gist of it is like, we, we don't really know the Ethereum doesn't have a delegation protocol, so it doesn't have a registry of participants. So what things we only know for sure is like basically doxxed actors, like exchanges and Lido and some node operators who use specialized contracts and some of them like to brag about the amount of stakes. So that's one thing. And the other is like about 50% of Ethereum stake is just like addresses who stake. Okay. And for the 50%, that is, that is doxxed like 17 and a half is Lido. Okay. I think about 20. Yeah.

Anna Rose (00:12:58):
I saw your, I actually saw your talk from ETH. What does it, ETHCC. And it was like 10% then wasn't it? Whoa. So it's grown a lot. Okay. 17% to you guys.

Vasiliy Shapvalov (00:13:10):
Yeah. Day to day we actually have about 30% of new, where the stakes go, goes to Lido like on the months' average. So it continues to grow. I think about 20, 25% are changes. It used to be more, this number is is getting lower. There are, if you custodians and big non-custodial taking providers like Stake Fish is pretty big. And Bitcoin's Use and I don't know, Staked. Yeah. Staked is pretty big as well, yes, that's true. And the rest is like unknown to us. It's pretty clear that some of, some of it is Binance. There are the, in, in the, like in the, is this unknown region. There are a lot of whales, like it's you can say see that some, some addresses stake a lot. Right. And some of them Binance some of them Coinbase. Some of them are big whales who stake with some node operator but you don't know, but it's basically not really known. And there is a lot of like single addresses that might or might not be single operators.

Anna Rose (00:14:18):
Got it. Quick question on that. It's like, can a single address run multiple nodes? Like, is that what you're kind of seeing when you say that the sort of Binance.

Vasiliy Shapvalov (00:14:27):
Single actor can own multiple address, a single address can fund multiple validators.

Anna Rose (00:14:32):
I see. But it's not like each operator, each node is an address of its own, right? Like, it's not like,

Vasiliy Shapvalov (00:14:37):
It's not like, no. Validator its not an address, it's a public key. It, it has two kinds of credential, public validation, public key. And withdrawal public key.

Anna Rose (00:14:47):
And one particular address can like have one of those keys for multiple nodes?

Vasiliy Shapvalov (00:14:52):
Yeah. It withdrawls, withdrawls credentials can be, you can have multiple validators with the same withdrawal credentials. That's what Lido does.

Anna Rose (00:14:59):
Oh, that's interesting. I didn't, I didn't realize that that was something you could actually see then. That's cool. Do you know what's, what's the total value locked already? Do they know that?

Vasiliy Shapvalov (00:15:08):
I think ETH's about 8 or 9 million so far. So...

Felix Lutsch (00:15:14):
Yeah. It's $36 billion right now.

Vasiliy Shapvalov (00:15:16):
Yeah. 36 billion...

Felix Lutsch (00:15:19):
I guess. Yeah. 7% of the entire ETH supply. I think maybe it's also worth to say right. That it's very low compared to other proof of stake networks where usually the native token will be like, yeah. Above 60 to 80% of the staked. Then of course we expect to grow in Ethereum 2 over time.

Anna Rose (00:15:40):
But I guess, I mean, what's happened now, a lot of what we're talking about is ETH that's been staked before. There's a live network with a timeline that can sometimes seem like it's getting pushed back a little bit. So, I mean, these are in a way, like some of the more hardcore users and believers, because once you lock it, you can't unlock it. Right. Like this is like it's locked until the future. Ethereum is launched.

Vasiliy Shapvalov (00:16:04):
Unless it's liquid..

Anna Rose (00:16:05):
Unless it's liquid and that's where we can get into liquid staking. Okay. So what is, what does liquid staking mean? I know the answer, but I want you to tell me

Vasiliy Shapvalov (00:16:18):
Felix did a whole paper on this, in Chorus.

Felix Lutsch (00:16:21):
Yeah, sure. Thanks. so I think on the Chorus, as we said earlier, you put up some value, you lock it up and you receive like rights to perform work in the network. That's staking in a nutshell now liquid staking, or sometimes called like staking derivatives. However you want to call it. It's essentially taking these locked tokens and kind of issuing tokenized representation of tokens that you put up for securing the network. And then that was tokenized. Yeah. Kind of like claim on, on the entire stake in the pool or whatever it is, can be used again in DeFi or the sender rounds trade ads. And basically allows the stake that has been previously locked up for securing the network to also maybe be used collateral for other applications. So let's say you want to take out a loan against your stake tokens. That's basically what liquid staking allows us in the decentralized finance ecosystem.

Anna Rose (00:17:25):
So when you talk about liquid staking and liquid staking tokens, they are actually like newly minted tokens that are put into the market. And the they're sort of like IOUs to what's locked, I guess.

Vasiliy Shapvalov (00:17:38):
Sort of, representation of what's locked. Yeah

Anna Rose (00:17:41):
Okay. And the thing is like in the Ethereum case, given the scenario of like, it's locked, it's not super clear when it would be unlocked. I think this makes lot of sense, but I want to ask if the, if the idea of liquid staking actually comes from before the sort of ETH2 roll out and all that, like has this idea, and this is actually Tarun. I kind of want to throw this a little bit to you, but do you know where the origin of the liquid staking idea actually comes from?

Tarun (00:18:08):
I think the majority of it that the first time I'd ever heard of it, you know, of course, one thing having been in finance for a while, I mean, financial concept is pretty obvious. And crypto people love renaming everything. So it's like, it's like calling a like securitized loan against a yield bearing asset. Like liquid staking derivative is like a little bit weird. Cause it's, it's a little closer to just like more like securitized lending. But the first place I really had heard of it was from Sunny, from Cosmos. And I feel like the cosmos ecosystem, you know, if we compare all of the proof of stake chains, the Cosmos ecosystem is extremely good at coming up with all the ideas, everyone else implements and gets more adoption on so far, other than Osmosis,

Anna Rose (00:18:54):
Could that be because they were also one of the earliest big scale proof of stake to actually do it, to go live and to like actually, you know, have something to experiment with?

Tarun (00:19:04):
You could argue Tezos could have done some of this stuff timing wise. Right. But they, they did not. And, and the Cosmos ecosystem, their forum posts are, are like the Bitcoin talk of proof of stake in my mind. Wow. and there's probably still ideas there that like I haven't rummaged through that could be implemented that haven't been implemented that are like kind of useful. But I think the main interesting thing was that the Cosmos validators seem to appreciate this point that they like, they themselves individually locked up way too much of their net worth into the network and in a bear market that was not ideal for them, which cause they had other costs and stuff. So that was sort of, it was a very pragmatic rationale for, for constructing it.

Anna Rose (00:19:51):
I do remember actually that time. I mean, I also, the first person who ever told me about this was Sunny in, and I remember it was at Zcon 1 in Croatia, 2019. I think it was around June. And I had never, like, it was like when he said it, I was like, whoa, do you know kind of which group or which part of the ecosystem, the Cosmos ecosystem really kicked that off?

Tarun (00:20:13):
So Sunny has probably the main technical posts, I think from 2018, maybe, maybe early 2019, that that gives a spec and it gives sort of like the interfaces for what it would look like. I suspect if we asked him, he would say that it was like verbally him and Zaki at some conference, talked about it and then like it eventually got to that spec. So it probably was invented a lot earlier, but you know, through the oral tradition, instead of through the written tradition anytime I'd asked Arthur from Tezos about it, he was just like staking grooves. It was terrible going to be like going to ruin our security of our network. Right. And so it was interesting that in cosmos partially, I think because of the sovereign chain aspect of things where people maybe wanted to borrow from like one chain that they were validating on to like validate another chain, they were more open to it. Whereas in Tezos it seemed to be like almost a persona non grata type of idea.

Vasiliy Shapvalov (00:21:15):
I subscribe to that too, like to the general approach, people in Cosmos Ecosystem are very pragmatic, basically. It's pretty clear that delegation beats up like non-delegated stake and liquids staken beats up delegation as a product it's much better. It means that it'll get adopted. And it was pretty clear like the term liquid staking might have been invented in in Cosmos and might have been mentioned in Bitcoin talk, maybe I don't know. But the way it was first implemented, I think was exchanges like there was a number of proof of stake coins that were folks of Bitcoin and they were on exchanges and staking on exchanges and people were getting staking rewards in exchanges. And that's liquid staking and just custodial, like not, not protocol type, custodial type. So it was pretty clear back then that liquid staking exists. It's a user users love it. And there is nothing can be done to stop it from happening eventually. And you can get a good flavor of liquid staking or you can get like change flair of liquid staking and that's your choice. And not like it's going through and all secure, just like a prediction, right. It's not, it's not avoiding.

Anna Rose (00:22:27):
I mean, I think the thing is this definitely, and this is one of the points I wanted to mention here is this danger of liquid staking and Tarun wrote a paper that I've cited a gazillion times on the show. Was, was it one of the first reports that you were making publicly Tarun? This, like you had talked about like this liquid staking or staking derivatives as being very dangerous to the underlying security of a proof of stake network?

Tarun (00:22:53):
Yeah. I mean, it was just more a thing of capturing the trade-off of what happens when you have staking derivatives. So, you know, at the end of the day, if you think about proof of stake as the main protocol that's providing your reward sort of in some sense, naturally needs to be providing validators the highest risk adjusted reward that they could possibly get. Part of the reason for that is that you want validators to be sticky. You want them to kind of not leave the network and stay in the network because if there's this huge fluctuation in the assets staked, then the cost of attack gets really cheap, right? 33% of X for like a Byzantine fault tolerant algorithm, 33% of X still depends on how big X is and if X fluctuates wildly and gets really small, then it's like easy to take over.

Anna Rose (00:23:44):
Totally.

Tarun (00:23:45):
And if we assume validators are rational, which I think you know, since that paper came out, I think DeFi has been a place where stakers are more rational than in proof of stake partially because people have, it's just like, you know, I think it's just harder to kind of reallocate as fast, but yeah, I think the idea is that, Hey, look, if you're borrowing against your stake, you're sort of synthetically getting your sort of care less about your full stake. That's validating because you're sort of taking, taking this loan against it and you might just be fine defaulting. But one thing that was interesting that there's kind of this trade off like staking derivatives do lower the security, but they're also good at giving smaller validators access to similar returns to, and similar risk adjusted returns as larger validators cause larger validators sort of have lower risk adjusted returns, right? Because they, they basically have less volatility. They're getting more blocks on average, right? There's volatility and realized rewards is lower, right? The smaller, your stake, you to admit maybe your expectation is to get 1% yield. But on if I, if I look on a weekly basis, I might have gotten 0.5% on 1.2% and 0.6% dot dot dot. Like I'm making up the number of to make it simple. Right. But if you're, you're like 50% of the network, you're pretty much getting like very close to the mean every time. Right. So your volatility kind of in returns goes down the higher size you have, but with staking derivatives, you can actually sort of, you know, you can kind of get the best of both worlds for small validators. And so that's that the paper kind of shows that's the trade-off like, you're reducing the security, but you're also making it a little bit more fair.

Anna Rose (00:25:31):
Wouldn't big validators or validators with a lot of delegation, a lot of stake wouldn't they also be able to play the same DeFi games or the same, like off main validation games with their liquid tokens?

Tarun (00:25:44):
It's there are tons of like alternative yield options for their liquid staking tokens, perhaps. Yeah. That's, that's possible. But I think actually the ultimate example of someone who is really playing in this design space more aggressively than anyone else, and I'm excited to see Vasiliy and Felix, his face when I say the name is, is OHM because OHM, you could view OHM in a lot of ways as having a lot of similar properties to staking derivatives, except they're also doing this, like they have this concept of protocol owned liquidity, which is actually exactly the same as the thing from that paper which says that, you know, if you have a proof of stake protocol and the primary market for the AMM is owned by the protocol. So like the, the protocol provides the most liquidity to like a pool or, or sort of it's part of consensus that like, you know, the biggest pool to trade ETH for staked ETH is owned by the, the Layer 1 protocol. Then you actually can make things more safe and, and OHM weirdly did this by their crazy Ponzi game. But, but they, they have a lot of similarities to staking derivatives. It's actually quite, quite interesting.

Anna Rose (00:26:56):
Vasiliy what do you make of that? I don't know if you wanted to respond

Vasiliy Shapvalov (00:27:01):
Not to the OHM stuff. What, what I wanted to to say here is there is a, if not for theoretical but for practical aspects of validators revenue is that liquid staking protocols can, can be much better at distributing stake to node operators and can then then injury those stakers. Because when people delegate, they tend to choose like the best node operator they can and that is inherently centralizing. Like there isn't like a number of operators who are perceived as the best, like 3, 4, 5, I don't know. And they get like, their stake tends to get snowballed. And then changes come and like the top 30 or 40% of stakers, like 10 lines or something like that people don't prioritize decentralization in staking because that's not the interest they want the best operator, not like the most decentralized set, usually individually. They want decentralized set as a, as a common good, but don't have incentive to to contribute to it. Or if they do it's very weak, and get disregarded usually. So that's one part of it, like liquid staking protocols can have a better set of node operators than a bunch of injuries or stakers to the same analysis stake. And it's cheaper for node operators to get stake from liquids, staking protocol then to get us from delegators because you don't need marketing. You don't need PR you need like to be included in the whitelist and behave good from the point of view of the protocol. And that's usually cheaper than a popularity contest.

Anna Rose (00:28:48):
But why I don't understand why it would help with distribution? Why having liquid staking would you not have to care about how much stake you actually have locked as a validator? Like don't, you still want a lot of delegations and a lot of like your validator to be somewhat like well-funded or do you, like, why would you not care?

Vasiliy Shapvalov (00:29:10):
We obviously do care, it's just like if you, if you're looking at liquid staking as node operator, it's a very different kind of client. Like it's a client with a lot of funds that can can delegate to you. But the process of getting these funds is not like the usual. You don't have to go to it, you know, the like a crypto fund manager, partner or something like that. Right. you don't have to run Twitter ads. You have to go through the whatever whitelist process the protocol requires. And in staking in case of Lido, that's like getting whitelisted on on PR review, basically in care at that at the current moment, it's not like the in-state. We want to have a lighter in case of Rocket Pool that's like locking up some capital and it can be easy and cheaper for, for a small operator to get decent stake through for through liquid staking protocol then the other way, but it's harder to get more stake through the liquid staking protocol on the other hand.

Anna Rose (00:30:14):
Yeah. So that, that's sort of the question, are you talking about sort of a, like a pooling type, like not the validator itself, but the person who's offering the liquid staking. I'm just trying to exactly understand. And actually, Felix, given that you're a validator, I don't know if you want to weigh in here on this part of it, that interaction, like, I actually wanted to ask you this, but like, what is the role of the validator in this liquid staking model? And maybe you can explore like what those different roles actually are.

Felix Lutsch (00:30:41):
Yeah. I think, I mean, it goes back to like basically liquid staking as this big client, like Vasiliy said, right? Like an aggregator that first gets a lot of stake pooled on their solution. And then they distribute it across a bunch of node operators in some different manner. And that can all be done, programmatically potentially even, right. You could even just look at performance of the node. You can do it like governance space. You can say, look, Lido token or Lido DAO token will decide who gets into the sets, or you have a committee deciding that, which is currently what Lido does, but it's also going to move away from that in the long run. But in general, you have a more, I guess, flexible way to distribute stake and can diversify more compared to like a single staker or that probably we'll just do like one delegation transaction instead of doing 10 or like really evaluating the validators. And I think also it's better than an exchange, which might have, like, you know, it's like a corporation that it wants to go to dinner again with the managing partner. It wants to sign some contracts. So it will have like, you know, three, four partners max, or maybe it just one that they, or maybe even have it in-house and just have like, you know what, this one validator partner instead of like liquid staking, where you can really, you don't have a limit like that. Right. You could have like support of 200 node operators.

Anna Rose (00:32:02):
Lots of smaller. I think I understand actually now what you meant about why this is helpful to smaller validators, which is it's this idea that there's this pooling entity that then distributes it out to all sorts of nodes based on their performance, not based on these relationships. And that's why, if there's a good performing node that doesn't have relationships, it would potentially get like a good share of this pooled stake. Although I guess this, this doesn't really like going back to the Ethereum example. It's not really the case in Ethereum, is it because in Ethereum, aren't you still just running these individual 32 ETH only nodes? Like there are you, are you looking for performance of these nodes really?

Tarun (00:32:41):
One thing that was interesting, or at least providing some historical color on this. And I basically remember being at the ETH research conference in February 2020 after the Stanford blockchain conference. And we're talking about this, because I was presenting that paper and that everyone at the EF or everyone who's doing ETH research was like, oh, we're putting in this 32 ETH thing because like, it will guarantee a lot more fairness. And I think I tried to convince people that like, Hey, look, people will make a derivative and it won't matter. And they'll pull together these things. But like for some reason there was this like inherent belief that somehow putting in a hard cap would like just dissuade the market enough and like, have you help individual validators, which has not really, I don't know it, at least from my perspective that hasn't really seemed to be true. I know you guys think about that.

Vasiliy Shapvalov (00:33:45):
Like their hypothesis, I'm having about liquid staking, about staking Ethereum, that like why, why it was just like, why it ended up designed the way it was designed, is that it was like heavily optimized to having a honest minority, which kind of like makes sense when you remove delegation from the protocol and it makes ETH fairly easy to get into validator set. Like 32 ETH is no joke. It's a, it's a lot of money, but it's like much less than you need to have stake to get into validator set of like Cosmos, for example, or Solana or something like it's less staked than you need to be in the validator set of the protocol. It means that like people who are naturally want to run a node, like Ethereum, enthusiasts and stuff like that, they get an option and we have more individual honest minority stakers than would have got the other way for all other kinds of staking realizations, much worse, like it's, it's very clear that like the design of Ethereum staking, like it is was look we're going to launch and they're looking up liquidity and stuff like that. It just like a way to give exchanges headstart. Basically.

Felix Lutsch (00:35:07):
I totally agree with this. I think in general, even like normal delegation kind of the way it's implemented in Cosmos where you have the 21 day lockup period is also giving like benefits to exchanges where you can still have the token on the exchange and traded there, and it might be staked at the same time. So yeah, liquid staking basically just levels the playing field a little bit between non-custodial solutions and custodial solutions, which is why it's so important.

Anna Rose (00:35:37):
I wanna understand a little bit, which liquid staking ecosystem is the most developed so far. Like even if there was, and I think actually there are, there is liquid Atoms there's, I've seen sort of liquid, almost everything as ERC 20s, but which network, which staking network would you say is the most developed in terms of liquid staking? Do we have an example of, and maybe it's Ethereum to be honest, maybe it's Lido's Ethereum staking, but I'm just curious, like, do we have any data on like what this does and how people actually behave once there's this liquid token?

Vasiliy Shapvalov (00:36:13):
In terms of adoption, it's definitely Lido plus Ethereum, it's the biggest liquid staking token, like buy, by value. On the other hand, it's much, much better integrated. Like there are a lot of DeFi, like a number of DeFi protocols that allow staking this collateral as a trading and stuff like that. And there is some like it's not very big, but some substantial trading against staked ETH and vice versa, and people are using MakerDAO and stuff like that. I think that Terra is a pretty close second and Solana is probably the third, in terms of adoption, but maybe it's like vice versa because Terra there is like just more value and more holders probably. And uh didn't check and like more history, but on Solana, there are much more like a lot of protocols that allow liquid staking coins.

Tarun (00:37:10):
Yeah. I think the interesting thing is in Terra's case, it seems to be really focused on increasing USC adoption more than it is about like borrowing against Luna and using it in DeFi. I mean, there, there are things you can use anchor for, but like not that many in Ethereum, it's, it there's the most integration. So you could like use staked ETH and a bunch of different DeFi protocols. Which I think is, is unique in the sense that I don't think the other staking derivatives other chains have really, I mean, obviously in Cosmos the only one that has anything that you could earn yield on those OSMO, but in Solana, the interesting thing is it's a weirdly competitive market, which we haven't seen per se I guess Cosmos has two now, right? There's a key stake plus there's the OSMO liquid staking. But I think in Solana, there's, it's like a way more wide open race of like a bunch of different staking derivatives there's Lido, there's Marinade. There was something else association or something. It'll be interesting to see how the dynamics work when you compare like ETH where it's very clear, there's like a dominant derivative that might be hard to unseat in a lot of ways versus Anchor where it's like, there could be another one, but like to be on this, there's no DeFi in Luna. Luna is really focused for the most part. Like it's much more focused on like getting people to use UST. And then there's Solana where it's like the wild west where we're going to see kind of like the like cowboy wars of staking derivatives. If I were to describe that though.

Felix Lutsch (00:38:49):
Yeah. Maybe one thing on that right is that also in Solana is actively kind of encouraged this idea of stake pools by the Solana Foundation and kind of a lot of the ecosystem members that there is some open source program, essentially you can use to deploy your own liquid staking solution more or less. Of course, Lido is also open source. So you could just fork that, but there is, I guess, more of an encouragement to use liquid staking at the same time. I think just in terms of adoption of it in practice, it's very far behind from, from Ethereum, right? Like the percentage of stake that is staked through liquid staking solutions on Solana is, is well below 1% or something. I actually didn't look it up, but it's compared to the 17% on Ethereum, like just Lido, right? It's it's very far from that. And it remains to be seen how that would change. I guess, the DeFi ecosystem, everything on Solana is very early still. So...

Anna Rose (00:39:42):
I am really curious to hear what the difference will be too, from like Lido on an Ethereum, just the way it's built the fact that there isn't this way to delegate. So this is the forum. This is you delegating in a way you delegate either through an exchange or delegate through this, but in the case of these proof of stake networks, where there is delegation I feel like that's just going to be fantastically interesting, or that's going to be very interesting to just watch happen. Do you see any clues as to what you think might happen in terms of that? Like, are people going to switch their delegations away from vanilla validators more to these staking pools? Is there a benefit for them to do that? Even if they're like large holders?

Vasiliy Shapvalov (00:40:28):
It's going to happen, why it's going to happen because it's already happening. Okay. if you only count protocol in protocol liquid staking on Terra. For example, 20% of all staking is in Luna because there is something you can do is Luna. You can like lock it for yield and anchor and then lock like a UST for you. And like the whole DeFi, putting not a lot of smart contract risk for a bit of yield. So 20% already, like it launched in less than a year ago. Okay. If we counting all forms of liquid staking, then like there are like in Polygon, Binance has 30%, which is a form of liquid staking. And in Cosmos exchanges collected, they have about, I think about 15, 20% of that. It used to be 25. It's less now I think so liquid staking there, it's not a question if people will use liquid staking and it's like question of when more likely, and when is when there are options for them to use it. And that's DeFi builders mostly.

Anna Rose (00:41:36):
How much is this staked token worth versus the main sort of original token, is there a difference between those two values or is it meant to match one-to-one?

Vasiliy Shapvalov (00:41:46):
It's how you design it basically, the users really love when it's one to one. Yeah. Because, because it's simpler to think. Yeah. the liquid staking should be simple. That's how people are going to use it. Otherwise they won't, that's why people who are making like complex non-fungible liquid staking tokens to like two token system or something like that. It's something that is not get adoption because people don't understand it. Technical limitations forces basically the deployer now with liquid staking token that appreciate in time with staking rewards in terms of like underlined, stake tokens. So like they should be growing in value a bit. But in times of like fire sales and like some price trouble and something like that, the liquid staking token can, can cost less because they're primarily created for the native token and still on centralized exchanges with native token and people who want to exit into like into USD. They have to go through the native token and sell liquid token to get, native token and not wait until unstaking happens. And so like there can be some kind of flash crash in times turbulence, but generally it tracks pretty close to one to one.

Anna Rose (00:43:01):
Is there not some concern then that this will just be like a centralizing force? I mean, I think you've already mentioned the exchanges as like they're basically they are centralized and they're now acting as, in a way a staking derivative way, very easy, easy UX. That would be like a centralizing force. I think we've always heard that about POS systems and the fear that, you know, all the exchanges would basically be running the top validators, especially if they're offering staking derivatives that are competitive, then they very much could. But do you also feel from where you're sitting as Lido, like would that also potentially be a centralizing action if more people were to use Lido staking because they get this liquid staking token out of it, which is super nice and cool. One-to-one if you can do that. That's awesome. So like, wouldn't, it just sort of take over away from the original protocol. Could it be that it sort of centralizes it around this pool only? And I realized that Lido has built this in a decentralized manner potentially to counter this, but yeah. I'm just curious what you see there. What would you say if like, could it be a centralizing entity somehow?

Vasiliy Shapvalov (00:44:12):
Of course it could. It's very hard to design a liquid staking solution that is not centralized. That's basically why I'm working on Lido, to what I think that don't get to select ETH liquid staking wins or not in terms of like amount the staking has. What we get to select is basically as a flavor of liquid staking. And I think that like Lido in its final form is the best possible solution that can actually win. So there are like some, some solutions that are like kind of stable in when they have like the majority of stake, but can't get to this point, but because they are not competitive against the changes to other staking protocols, and there are like liquid staking that can't get off at all. And Lido, I think is like something that can actually grow into being a leading force and be good in this role. Like be good for the ecosystems it runs in.

Anna Rose (00:45:08):
Let's talk a little bit about its decentralization or like the goal, like how you're structured. Like maybe just to understand how it's actually different from these more centralized bodies?

Vasiliy Shapvalov (00:45:18):
The current structure of Lido is, there is governance on Ethereum, it's a token voting governance pretty standard, like using Aragon for functions and their main voting actors are founders of the people who were like founding a set of Lido, they're node operators the holders to the threshold key we used to launch and a few early investors, and a few late investors, and like stuff like this. They currently have basically full control of the protocol because it's fully upgradeable. The reason it's fully upgradeable is because like the Ethereum Beacon chain spec and merged spec are fully upgradeable and can change at any time. And there is like, we have to have a flexible protocol, but that's not the end-state, one other important thing that this right now working with Lido not in the way that we wanted to work in final form is the node operator selection process, which is basically right now, whitelisting. They're node operators using peer-reviewed process. Like we, we've got a lot of good node operators that can write each other and write new comments to get in. I don't like either of these, like I don't like that Lido is fully upgradeable. That that is not great. And then don't like the peer-reviewed whilelist process because it works in a pinch. It could get us a good node operator set, but it prevents people from joining like only allows for their for growing validators sets that are already proven node operators, which, which prevents fresh blood from coming in, which is not great. So the, the path for like, for being great for us is to ossify as much protocol as you can to have it non-upgradable, to have it like ossified. And like basically as solid as the Ethereum specs itself, like safe to use and to inventing you way to distribute a stake that is like less whitelist-y, which is not a simple thing to do.

Anna Rose (00:47:26):
Can you imagine someone just like forking Lido on Ethereum and just doing or on any of these networks and just like building a new brand, would you want that for like, they could also have a different means of onboarding new node operators would be a different set of people?

Tarun (00:47:42):
I think one thing to remember with both the Layer 2s and with staking derivatives of this form is that there's a lot of off-chain logic that you would have to replicate that is not trivial to do, right? Like, yes, the smart contracts that are public are there, but each validator's like development dev ops set up their sort of like key management setup, all of that stuff is actually effectively proprietary to an individual validator. And that is the hard part to actually build in a lot of ways, the kind of core contracts are much easier in the same way that for Layer 2, the layer 2 smart contract, that's validating the remote chain. Okay, fine. Anyone can fork that, but, and yes, the anyone can run the validators, but you actually have to like get people to be able to run the Layer 2 validator correctly in the same way, you have to get people to run all of the pool logic together. So there's a lot of off-chain logic that I would say is a bit of a moat that you shouldn't discount.

Vasiliy Shapvalov (00:48:45):
It's very hard to fork Lido. It's, it's not trivial. Well, for one like it's it's hard to fork even like discounting all the off-chain stuff, it's pretty hard to operate that that's one thing. The other thing is Lido is not this file a form. So forking Lido right now is, is like, mean that you will have to maintain and develop it. And there is like not much team that can actually do this. So forking it right now is like they taking up a lot of responsibility which it's not forking UniSwap basically. Finally liquid staking is, like I said, it's, it's working like in the heart or the security of the network. And there is a lot of trust in it, the trust and the brand and, and stuff like that. Like you can fork the code. You can't, you can't fork the, the good work basically.

Anna Rose (00:49:40):
When you, Felix when you guys did or, and I don't know if you've done or if it's still happening, sort of this like deployment on Solana, we're you using anything like the same, or was it actually something that needed to be kind of created from scratch because it's like a different system. Did you have to rewrite everything?

Felix Lutsch (00:49:57):
Yeah. It's basically completely like tailored towards Solana and how staking works there. But of course, a lot of the principles remain the same. So essentially this governance onboarding of node operators. We use a similar structure that Lido already has on Ethereum. So we, I guess Lido DAO develop that for Ethereum and it's kind of being used for the other networks too for now. And then I think there is work happening, especially on Ethereum towards, yeah. Changing that to a model that's maybe more kind of less whitelist-y as Vasiliy said. And I think that would then, or, I mean, that's how I imagined it, like kind of be adopted by the other protocols on how to change. I guess that's not really clear how that will look, but over time some something along the lines of that I would imagine

Anna Rose (00:50:48):
Does the operator itself earn something? And if so, how?

Felix Lutsch (00:50:53):
On Ethereum, I guess there is the Lido feed at 10%, 5% goes to validators and 5% goes back to the DAO treasury. So the Ethereum operators don't really earn directly something, I guess they have their LDO token, which is the incentive and on Solana or on these other networks, essentially what happened is there is a basically yes some governance proposals that, that pass that essentially give a revenue share of that fee. So like 1% goes to the maintainers of the code and there is like some LDO token also.

Vasiliy Shapvalov (00:51:26):
There are two people working on Lido directly and get that. I get getting paid for DAO that's Jacob who is the biz dev. And Isidora who is our Master of Validators. So the at least part of the operators are getting paid directly by the DAO. So I think that model will be adopted later for all the operators, but we'll have to see.

Anna Rose (00:51:53):
I have a question about L2s and staking derivatives. And I don't know if this even interacts with one another, if a lot of transactions are also going into like in and out of L2s, does this have any impact? Can you imagine actually staking derivatives also moving? Like, are they, are there, are we talking like, you're validating your tokens, you get a staking derivative, you then take your staking derivative, you move it to an L2, you then lock it. Like, I'm just trying to imagine how far away you're going to get from this original asset. When with L2s on maybe Ethereum to start? And is this, does this factor into your thinking, does it actually matter to you guys how it's used after?

Vasiliy Shapvalov (00:52:32):
The only thing that matters that has to happen on the L1 is basically staking related to operations, the staking the withdrawals maybe some compounding, stuff like that. Everything else can be kind of happen on Layer 2. And it's probably where we the situation we end up in, because I think that running operations on Layer 1 will be very expensive like the next years, so we will have to move voting to Layer 2, we'll have to move the minting, the burning, the transfers and stuff like that to Layer 2. And, trading will move there naturally and including trading in derivatives. So I'm pretty sure that like with Ethereum layer 2 future a lot of what Lido currently does in on Layer 1 will move to Layer 2, but it's like not really clear what's the challenge points right now.

Anna Rose (00:53:32):
I see. And also, I guess it's like, but going back to that idea of the liquid tokens, do you worry, does it matter? Like, would it matter to your model to map what happens to them once they go on to L2s or do you feel like that's kind of removed from the staking derivative creator's responsibility?

Vasiliy Shapvalov (00:53:51):
It doesn't matter for like, for the security and like for the general structure, but it doesn't matter for like business development perspective. So it's, it's a very clear challenge to have a liquid staking adopted on Layer 2s.

Tarun (00:54:08):
I think one thing that might be worth mentioning is that the security model will change with Layer 2s in some ways in that, you know, Layer 2 validators and operators have to oftentimes have to post a bond on Layer 1. And there'll be a question of whether they should be allowed to borrow against that in the same way that Layer 1 validators are borrowing against their stake. And so there's likely going to be this weird impact of the fact that it's very likely that there will be some validator who's validating Layer 1 and also validating Layer 2. And they also want to borrow from both of those, which can lead to some weird incentive issues. But I just wanted to point out that I don't think the story is quite told there yet. We need to actually have Layer 2s where the bonding is working in production first, before I'm very before I think people care.

Vasiliy Shapvalov (00:55:05):
Yeah all of them that actually work have like a lot of centralized crutches right now. So it's really not clear how it ends up.

Tarun (00:55:15):
Yeah. I mean, for instance, I, I, how do you view these kinds of like data availability committee, things like starkware like evolving? Will they always be this kind of tiny threshold multisig? That's like five people controlling all the data or able to actually scale?

Vasiliy Shapvalov (00:55:33):
I don't have a good answer for that. I think like the, like the sampling that Ethereum is working on and Celestia is working on is like very promising in that regard, but we'll have to see. Five companies multisig is very effective. Hard to beat that.

Tarun (00:55:50):
Of course, of course, of course. But it is, it is weird when, you know, if I look at dYdX. There's like, you know, how many billions of dollars of volume a day that's going through the five person multisig implicitly? Like you have to like start doing those calculations too.

Vasiliy Shapvalov (00:56:09):
Yeah. They promise that they will do no MEV. That's pretty fun. Yeah.

Tarun (00:56:14):
Yeah. There's a lot, there's always this type. I'm just pointing out that, you know, the, the story is certainly very far from done for Layer 2s and derivatives. But I think people just don't care enough. And frankly, we have to see some of the Layer 2 collateral models actually like running in production, you know, before I'm a believer in like it's worth trying to figure out how to do derivatives.

Anna Rose (00:56:38):
There have been some like unusual or new kind of proposals. And I wonder if we could talk, I don't know if you have thoughts on this. I think I'm going to say this, right. I think it was the super fluid staking. Is that what it was? The Osmosis at the recent Cosmoverse? Sunny kind of gave a talk about this very different idea around the staking liquid staking to the validator, the actual, like original token. Yeah. Do feel likes, I don't know. Or maybe one of you, can you explain what that was and what your thoughts are on that?

Felix Lutsch (00:57:13):
Yeah, I can try, but I'm sure Vasiliy will have some better insights afterwards. So I guess the core idea of super fluid staking, as I understand it is instead of like first putting like staking first and then putting the liquid staking token into the AMM and having like pairs with that, you are essentially putting the stakes still first as an LP. And then while you LP on Osmo, it's using IBC and interchain accounts to kind of still stake those tokens that are in the LP pool on the respective chain in proof of stake. So essentially the LP can still decide who he staking with. And as opposed to the liquid staking token, where you're kind of at mercy of the liquid staking pool now, whatever is better there, I guess it works for the specific use case of liquidity provisioning and still staking. But of course you now, how do you build borrowing on top of this? And yeah, I guess it's just a very different model. Very cool. It definitely, I'm also super interested in it and I guess also like a showcase of what is possible with IBC is specifically, right? So..

Anna Rose (00:58:24):
Yeah, that's what I was wondering if it's like, if this is so specific to IBC because of the way that those movements are going to happen?

Tarun (00:58:33):
I don't think that's actually true. So like in Luna you can do the same thing. They just don't happen to do it that way because they want Anchor to be separate. But any consensus protocol that has an AMM as a part of its consensus rules can actually provide this, like Penumbra will have this in theory, like Celo and Terra could ha could, could implement this if they wanted. But I mean, the main base idea is, is kind of the, the, the security model actually like this, this design is actually closer to the security model of the, the paper I wrote, which is basically that if consensus controls the AMM, the biggest AMM pool, then you can stake the AMM pool to get you know, like, let's say I'm staking Osmo Atom, right? And it's a 50 50, then I can stake that liquidity in the protocol, get 50% of the block rewards plus the fees, right? So I'm trading off the fact that I could sell all the Atoms and buy more Osmo and get the full block reward, or I could stake, the liquidity share and get fees from trading plus half of the staking reward. And the idea is by doing both of those, you ensure that the consensus protocol controls is the dominant source of liquidity for that asset. Right. That's why all the Osmo is, is on their own chain. Right. And that for security reasons, that's important. But one thing I do want to point out again, sorry, not to be annoying. This is exactly what OHM does. And like, I started trying to write out some math for a lot of like okay. OHM's language is like, literally just a cluster fuck. Like it's impossible to, to follow they're like incantations and magical, like whatever devices. But if you squint enough, it's like actually a much more reasonable system than I thought. I mean, the fact that, you know, if you look on Ethereum and Avalanche and you look at the most cloned contracts, the top three, most forked contracts are UniSwap V2 the, Synthetix Minter contract, which is to give LP rewards and the third is OHM. And there's a reason that so lindy it it's actually like a, it is a mechanism. It's just that like the OHM paper itself is like written in a way that does not give you any, you know, you shouldn't feel that comfortable from the way it's written, but Osmo and OHM have a very similar superfluid staking and OHM are extremely similar. That, that was the main thing to remember is that like in DeFi and in validation, you kind of see these things get built in parallel, which is a funny, funny little thing I think towards Felix's point about, Hey, how do you do lending if the consensus protocols locking up? Like, I think you effectively then have to just do like a staked, like an sEth type of model where you can borrow against the portfolio of the AMM pool, plus the blocker rewards. But you have to have some function which lets the borrows against the LP shares be like weighted differently than the borrows against the full stake. Sorry, not, not, I'm not trying to advertise, but also a paper about that.

Anna Rose (01:01:42):
All right. We'll try to add that to the show notes.

Tarun (01:01:47):
There's definitely. Yeah. OHM, is coming soon, that's the alpha league. I just like was way more impressed once I read their code base also, like I think that they didn't, they didn't realize that they're doing a lot of stuff people are doing in staking land, like, like Sunny and the OHM, and OHM's Zeus should like talk to each other.

Vasiliy Shapvalov (01:02:12):
Uh, the thing Super fluid is basically getting a liquid staking derivative then like it's, it's, it's about the same product as getting liquid staking derivative and then forcing you to lock it into a pair or an AMM pair in returns for some juicy staking rewards, like extra of this, which is reducing your optionality. You can only use the stake, the liquid staking derivative for one thing, you can like only put an AMM, but in return you get impermanent loss it's not impermanent loss. I know like everyone calls us and a bit of staking awards. Yeah. So, so, so you'll get some like some portfolio risk and some extra staking rewards. This works as long as like, is this a superior to just general liquid staking as long as the risk reward, like risk-adjusted award on this AMM pair is better than you can get elsewhere. Which absolutely true for Osmosis right now. Like there is no yield to get in Cosmos ecosystem except Osmosis. So like super fluid staking is easy way to go. That's the best way to get, to get yield on liquid staking. And can you don't mind losing the optionality because you have zero optionality, actually you can only like not stake or stake in superfluid and the superfluid get gets you, but the yield that's, that's your optionality. As soon as you get more optionality and, or staking rewards are not that good. Like for example, you, you might want to lock this staked Osmosis in whatever, I don't know, mass protocol is extra staking rewards on Terra extra rewards on Terra. That means that superfluid might be not the best choice for you because you refuse one option to get the other and the superiority of this liquid staking solution is like, is in question is staking rewards on typically gets down is also the same question. And if someone, like Tarun said someone builds liquid staking on top of superfluid, it's also in question because then you can get extra yield on top of that yield and like, blah, blah, blah. So I don't think the superfluid will be like a long-term thing.

Anna Rose (01:04:18):
Cool. Thank you all for coming on the show. Thank you, Vasiliy. Thank you, Felix. Thanks again, Tarun for co-hosting. Yeah, thanks for giving us this journey from sort of the highest level proof of work, proof of stake validators all the way down into this, the details of liquid staking and what it means.

Vasiliy Shapvalov (01:04:37):
Thank you. Thank you for the questions.

Felix Lutsch (01:04:38):
Thanks for having us.

Anna Rose (01:04:40):
And I want to say thank you to the podcast editor, Henrik, the podcast producer, Tanya, and to our listeners. Thanks for listening.

