Anna (00:07):
Welcome to zero knowledge. A podcast, where we talk about the latest in zero knowledge research and the decentralized web

Anna (00:16):
The show is hosted by me, Anna.

Fredrik (00:19):
and me Fredrik.

Anna (00:27):
In this week's episode, we have a special crossover episode between this podcast and the uncommoncore podcast, Hasu, Tarun, and I will be discussing the emergence of governance tokens and share play-by-play recap of the sushiswap saga to date. Part one of this will be on this channel and part two will be on the uncommoncore podcast. So be sure to check out both. Just a quick note, the majority of this episode was recorded the day before the uniswap token launch. So we added a short amendment at the end to capture this, but before we start in, I want to say a big thank you to this week's sponsor Least Authority. Least Authority is a security consulting company known for their work on privacy, respecting solutions. They are a team of security researchers, open source developers, privacy, advocates, and cryptographers. They specialize in security audits, design, specification reviews, and security by design.

Anna (01:19):
They're most known for these security reviews, which includes work with zero knowledge proofs systems, as well as having implemented zero knowledge access passes with the distributed storage systems Tahoe-LAFS. It seems fitting then that they are now working on a step by step guide for building ZK Snarks, it's called the moon math manual, which you can find and donate to on Bitcoin right now. In fact, as an aside, the zero knowledge podcast also has a grant on Bitcoin. And so that gives you two reasons to head over, to get coin.com during the CLR matching and donate. If you're interested in working with Least Authority on anything, zero knowledge related, do you reach out to them whether you want an audit on your project, want to collaborate on security research or even if you just want to learn about CK proofs, they would like to hear from you. I've added the email in the show notes, or you can also visit them@leastauthority.com. So thank you again, Least Authority. Now here is the Sushiswap saga with Hasu, Tarun and myself.

Anna (02:22):
So for this episode, we have a special crossover episode planned today. We have Hasu on the call or actually, Hasu and I are going to be doing this podcast together. The first part is going to air on the Zk podcast. And the second part is going to air on uncommon core, Hasus podcast. Oh yes. And ourspecial guest is the sometimes guest host of the Zk podcast. I know he's been also on uncommon core to Tarun. Welcome back.

Tarun (02:50):
Thanks for having me. I think the crossover episode thing is totally a throwback to the nineties when you know, different TV shows would have, you Know, one character show up in another one's episode,

Anna (03:03):
The universes are colliding a little bit for people.

Tarun (03:06):
Yeah.

Anna (03:09):
We have the Zk folks and the actually Hasu, how would you describe your audience?

Hasu (03:14):
I have no idea to be honest.

Anna (03:16):
Okay. Yeah. I think everybody should be pretty technical.

Hasu (03:19):
Random people who follow me on Twitter.

Anna (03:22):
The point of this episode is actually we're going to be talking about governance tokens and diving to the recent events around the sushi swap. What do we call that vampire attack?

Tarun (03:33):
Yeah. I mean, I guess that's the simplest

Anna (03:35):
Sushi swap events or something

Hasu (03:38):
Takeover attempt. I mean, yeah. I think that term vampire attack is actually quite nice when introduced first specifically to draining liquidity or capital from another project, which was the case here.

Anna (03:51):
Yeah. So I think maybe to kick off, we should all very briefly introduce ourselves for any new listeners who might be hearing this podcast for the first time or anyone who isn't familiar with you guys yet. So how soon do you wanna start?

Hasu (04:03):
Oh, sure. So yeah. Um, I guess most people would know me from Twitter. Well, I'm pretty active. I'm a researcher in this space. I've done some longer form research, mostly end of the security of layer one blockchain, such as Bitcoin and Ethereum. But I also run the research desk for Derebit Insights. Do that together with Suzu was also my cohost at the Uncommoncore podcast, which will add the second part of this episode. And I hope you are going to check it out.

Anna (04:34):
We'll be adding a link to this in the show notes to anyone who's listening. So for sure, you're going to be able to hear part two. And how about you Tarun.

Tarun (04:41):
I'm the founder of a company called Gauntlet. We do sort of multi-agent simulation to stress tests, defy protocols and proof of stake protocols. You know, when I'd say multiagent simulation think like alpha go or open AI, but you know, previously I worked in finance and hardware. So I've kind of somehow been at the intersection of this stuff and has spent a bunch of time writing some of the early peer reviewed papers as understanding why lot of defect protocols.

Hasu (05:08):
Actually, you might know Tarun from his paper on, uh, how defy can actually challenge the, uh, security of proof of stake networks by creating higher yield opportunities and that leading to, and that's the segue to this episode, actually a vampire tech. So how mad are you Tarun that you didn't come up with the name vampire tech because you basically describe this 100%.

New Speaker (05:34):
Yeah. I think it's more, I'm not the meme type of person, you know, I'm just like not go to coming up with memes. So I, yeah, I guess I should feel kind of bad. Maybe my Halloween costume is going to be a vampire this year, but I'm happy something that was meant to be an academic exercise to convince cryptographers that there's these types of attacks can happen, turned out to happen in practice.

New Speaker (05:59):
Yeah. Yeah. I think East too is certainly going to be that launch is going to be very exciting because this type of stuff.

Hasu (06:06):
So you think that ETH2 is of empire tech on defy?

Tarun (06:10):
ETH2 might be a vampire attack on defy. It's also sort of a vampire attack on minors. Totally. In some ways the difficulty bomb is a little bit like, yeah. So, you know, I think it's going to be great to talk about this stuff because I think the next generation of networks are sort of grab, going to have to grapple with this at the layer one level.

Tarun (06:29):
Anna you run a validator that aims to support zero knowledge research. That's true. How do you feel about a vampire tax as someone who's like running infrastructure that potentially could, could get attacked?

Anna (06:41):
I'm Anna to anyone who's kind of new to this episode. I'm the cohost of this podcast. I do something called the zkSummit. I do a lot of things with 'zk' at the beginning of them. And one of them is the ZKValidator, Twitter user. And I'm also a Twitter user. I have been cited as a Twitter user in a publication actually. Um, but yeah, so the ZK validator, I mean the thing is the ZkValidator. We get to actually work across a bunch of different networks. And to your question, I mean, I think at this period in time, there is actually, you know, funds are being generated through the validation action, but we are obviously looking very closely at what defy is doing and how that might be interacting in the future. So yeah, I would say like, I'm keeping an eye on it, ready to pounce whenever there's a great opportunity.

Hasu (07:30):
So you would only do validation with the funds or would you also explore other opportunities with the money that could potentially get a higher yield for your customers?

Anna (07:39):
Yeah. So here's the thing with the validator that I'm doing is actually like we have no tokens, basically no tokens of our own. We're a community-funded. Like all of the funds are generated through the commission from the validation for other people. So like in a way, I mean, if we find opportunities where people can actually potentially validate or do something like validation through us and we can use some sort of commission to fund the zero knowledge research advocacy and all of the work that we're doing around that, then we would, and we assume that the people who are staking to us on some networks, if they happen to have other kinds of tokens, they might be interested in also supporting it there. So I don't necessarily see it as like a deep threat, but it's going to be interesting to see how it evolves. Anyway, that's our intros, but let's move on to the main topic of this episode, which is going to be about governance tokens and specifically the sushiswap attack. So let's first define governance tokens. Maybe Tarun you want to do that.

Tarun (08:39):
Sure. Yeah. So I think the correct way to think about governance tokens is imagine that you own equity in a company and you know, you it's like shares in a company like stock. What do you do with your stock? Well, one is you hold it and hope for a number go up. But number two is which is way more important than the normal world until sort of now has been much less important than in crypto is you use those shares to vote on governance changes. And so proof of stake protocols, I think in particular spent years over-engineering to some extent governance protocols so that their adversary resistant in the logical way is, but no one uses those protocols or votes in their governance. Like barely there's just no, no usage. And so you didn't really see many people actually exercising those votes. Governance tokens, however, in DeFi correspond to smart contracts that are acting as banks, to some extent giving users equity in the protocol and that equity has these tokens that gives out, allows you to vote on parameter changes.

Tarun (09:49):
So you can vote on changing the interest rate curve. You can vote on changing the emissions, how fast it gives out equity. You can vote on what types of collateral are allowed to be used. And these governance tokens, unlike shares, unlike a stock, let you vote on code that gets executed. And so this is, you know, the first people in the cryptocurrency space to really talk about this where it probably tells us in 2014 or 13 and their system can execute those. But no one that no one really cares. Like there's like this very small set of voters and very small set of proposals in proof of stake governance, because a lot of Proof of Stake coins are their own governance token. And what we found is that in defy, because people are voting on cashflows, whether explicitly or implicitly and the implicit is usually because no one wants to be called the security.

Tarun (10:42):
And so if you say that these tokens have rights to cash flows or securities automatically, so you say they're valueless tokens that only are used to change parameters and vote on changes to parameters to these protocols. But a lot of them, I'd say, let you execute changes in code and why this is sort of revolutionary versus evolutionary is, in the normal market, if you own, you know, 10% of Goldman Sachs shares, and you want to say, Hey, Goldman, I want you to do a buyback. Cause this share price is too low. I want you the company to go buy stock on the open market, increase the price. You have to propose a new board of director as like a new director for the board. You have to get people to vote that director. And that director has to go convince the company and the CEO and management to go do a buyback. And then they have to do the buyback. That process can take forever and involves a lot of politics. Whereas with governance, tokens, people can just vote based on the amount of tokens they have on doing a buyback as a piece of code. And then once the code is voted on, it gets executed. And it's a much more efficient way to do certain types of processes that exists in the normal market.

Anna (11:57):
But governance tokens in this context, they're not pure. Like you just sort of said that it's like, they're not actually valuable.

Tarun (12:05):
Yeah. I mean, that's, that's an SEC avoidance.

Hasu (12:08):
I Never understood this like meme that governance tokens are valueless. Because if you have a token that can vote to direct yourself, dividends like a stock, then it's of course not valueless. Right. But the sum of all of these governance tokens is actually all of the future revenue of the protocol.

Tarun (12:26):
Yeah. I think it's all a avoiding, like the sec coming after you mechanism to say they're valueless, but that has nothing to do with the truth of them being valued full or not. A lot of proof of stake protocols got in trouble with this. And like they have a weird tax classification.

Hasu (12:42):
I want to go back to something that you said. So you said it's revolutionary that in governance, stalkings basically the votes can vote directly on any decisions that are implemented by the company slash protocol. And it seems to me like this is basically the distinction between direct democracy and crypto where each share is like one vote and whatever the votes directly decide is going to be implemented and representative democracy where, which you would have in a traditional company where the votes basically bought for representative and that representative can then go and do that thing. But they are largely left on check most of the time. So do you think that like the direct democracy is actually the better form of governance? Or do you think that this is also unscalable for the same reasons why direct democracy has never scaled in a traditional word? And thus we encrypted with also ended up with representative democracy slash governance in the long run.

Tarun (13:40):
I think that the correct way to at least the way I think about it is for financial decisions like buybacks, it was actually just hard to mechanically do direct democracy. Like if you think about how share buybacks work, it's like a really convoluted process created in the 1930s and every exchange in the world adheres to it. You know, it's like, there's a lot of like in the same way, we're see a lot of copy, pasta defy protocols. That's what we're going to talk about with. So she's a lot, there's a lot of copy pasta legislation that has happened for exchanges and basically there's no technology to do most of the stuff. And part of it has to do with regulators kind of being slow and not adopting technology. And part of it has to do with the inertia on the part of exchanges and companies, because they don't want like the extra scrutiny. And I think that this is revolutionary in the sense that it's like forced the issue.

Anna (14:37):
And actually what we're about to hear is we're gonna basically be covering a story of quite the opposite of what you just described. Something that moved extremely quickly. I mean, the entire story is we're kind of going to think about it a bit like a case study, but it all within a three week period ish, I think,

Tarun (14:54):
That, and it says, show us why people should pay attention to defy and hear him because in this space, the thing that wasn't able to happen in like the last 90 years and traditional finance for like a variety of reasons, you can just go and do it here. You know, there's no one to stop you and if you're anonymous, then it's also, even if you do it, there's no one to come after you later, even if it blows up. So I think that's why we see all these fascinating experiments play out.

Anna (15:27):
So let's introduce sort of the players in this scenario, let's actually start with Uniswap. Uniswap is a decentralized exchange where tokens can be sort of traded back and forth without a centralized middle person. And you can also provide liquidity to Uniswap by basically providing the both sides of a trade. So you can put a certain amount of Eth, a certain amount of another token. Um, that's how, you know, Uniswap exists. They don't have a governance token. And so far, as far as we know, don't necessarily have public plans for governance token, unless something's been announced, but I don't think so. Right. Okay. So the way that people are actually rewarded for providing this liquidity is to charge a liquidity fee that is then given back to the liquidity providers. So in the form of the tokens that they actually put up, not in any other sort of token.

Hasu (16:22):
Yeah, right. So as a liquidity provider, when someone basically traits against you, then you get 0.3% of the trade as a liquidity provider fee.

Anna (16:36):
Is that always fixed actually with uniforms?

Hasu (16:37):
That is, that is always fixed.

Tarun (16:39):
For uniswap it is for a lot of the other protocols. It's not.

Anna (16:43):
So this model of kind of incentivizing people to provide liquidity that started definitely to pick up steam. At what point was this idea of instead of only providing and like dealing out that liquidity to the liquidity providers, at what point did somebody think about introducing a second token to that model?

Tarun (17:05):
Um, so actually the sushi swap concept of adding a token has existed in other competitors, to Uniswap earlier. So Bancor, which is famous for its kind of failed, I mean failed in the sense that they raised hundreds of millions of dollars and like delivered basically a useless product. And then eventually they kind of stumbled their way into copying Uniswap. Bancor had this thing where they added a token to try to incentivize people to move to Bancor. And the idea is that one of the kind of very weird properties of these Uniswap-types of Automated Market Makers, they're called constant function market makers. And the reason for that is they on each trade, you preserve an invariant, which is that you have to keep a certain function constant.

Tarun (17:50):
There's some details as to whether that's really true or not. It's actually only has to be strictly increasing. But the interesting thing about these kind of constructs is that they have a type of loss that a lot of users are not familiar with when they trade on the decentralized exchange. And this loss is called lack of creativity. People called it impermanent loss, which is kind of stupid in some sense, because you still lost money. It's kind of weird to call a loss impermanent. But the reason for this is that Uniswap itself kind of acts as an options underwriter, it's really selling you something that's a little bit weird when you're in a liquidity provider it's selling you, what's sort of a straddle in options. And so you, you pay what options traders would called the Greeks to hold that position. And so people want to start using your Uniswap, realized that for certain assets, it's actually really bad.

Tarun (18:41):
Like this loss can dwarf, you know, you're earning fees on the retrade, but like the loss can be quite large in normal finance, this thing has existed for a long time, it's called the volatility harvesting. But crypto is very good at reinventing things. So this loss people sort of in kind of March and April of this year, we're like, Hey, how do we subsidize this loss so that we get as much liquidity as people have on centralized order books or as much as it could be as Uniswap pass. And so the history is actually bank Bancor trying to call their way out of a bunch of getting hacked a bunch of times. And like, you know, copying stuff decided to kind of add in a token to compensate you for this loss. So you stake your liquidity provider share, and you get this token, but around the same time banker did this, uh, synthetics, which is this derivatives platform on Ethereum also created this contract that became the ultimate copy pasta of the food coin revolution, including sushiswap, which is the synthetics reward contract synthetics reward dot soul is probably the most copied contract in the last few months.

Tarun (19:50):
And what it does is it lets you do the following. You provide liquidity to a Uniswap pool. So you provide Ethereum and S USD. That's like synthetics dollar coin. When you provide liquidity to a Uniswap pool, you get minted shares, the shares represent what percentage of the pool you own. So let's say you own 10% of the pool. You'll get 10% of the shares and the pool basically automatically mints and burns shares. So when you withdraw money, it buys your shares back and destroys them. And when you add liquidity, it mints shares. Once you get the shares, the shares are kind of your voucher for getting your assets back plus fees. You can take those shares and show it to another smart contract and say, Hey smart contract smart contract. I'm providing liquidity proof of liquidity. Here's my shares. And you can stake these shares just like proof of state. And when you state these shares, the other smart contract would reward you. And the idea is that protocols can pay you for providing liquidity,

Tarun (20:48):
Almost like market maker rebates in centralized exchanges, by you staking your, your liquidity provider shares. And so that whole rigmrole was invented by synthetics. And then a bunch of other protocols started to try and cause synthetics very successfully was able to bootstrap a stable coin that has no reason to actually say the, a dollar out of convincing enough people to join the system. And basically all the elements for the sushi swap drama have existed actually since March or April. It's just that people didn't like kind of put the social puzzle together. And I think compound making liquidity, mining and yield farming, a meme led to, you know, combine that with the fact that all the contracts exist led to the sushi wrap. One, one thing I just want to add is the synthetic contracts have gotten to the point where it's almost, if you don't leave in the, like the comments in the smart contract that's written by synthetics, everyone will think you made it up. It's like a proof of authority type of security, like, Oh, you wrote your own LP Sheriff's staking thing.

Anna (21:54):
Okay. So I think we've covered just the run-up to sushi swap. So let's talk about how this project first appeared. So it wasn't the first food based project or food name, a project named after a food there had been yams,

Hasu (22:10):
I would say yam was the first, the first food or food group. Bottom of the food pyramid actually tweeted out there are bunch, more food based companies that are extremely valuable, such as Apple. And there were

Anna (22:29):
At burger King.

Hasu (22:31):
I love dairy queen, particularly a valuable point to this was that they were specifically not food companies. So like tech companies with food. And so a naming apparently projects after food has a rich history with some very successful outliers. So, um, yeah, I mean, we could talk about yam for a second here. So the, the way I understand it's basically a fork off emperor forth, um, which is basically a money coin with rebasing a mechanism. So that means instead of the price going up and your account by the ends of that particular coin saying constant, they do the opposite, the price stays constant, but your confidence constantly fluctuates and you know, same person could ask, why would you possibly want to do that? It has no benefit, but nobody in the world it's like is used to this sort of user experience when dealing with money and you know, the response would be, yeah, it makes sense that the point is to deliberately confuse the basically investors.

Hasu (23:39):
You could say, there's not really any point to it, but so yam did this and a bunch of other things and they utilize the synthetics staking contract, At least I think it was

Tarun (23:54):
Yea they Copy pasta'd COMP governance, Ampleforth and synthetix, sorry, I love the phrase "Copy pasta" stuff, but I just mean "copy paste". Yeah.

Hasu (24:04):
Yeah, so those are actually the recipes. It's where you had Ampleforth. Um, you had synthetic staking and you had COMP governance. So this was the idea of like having the kind of coin that has like this attractive to some parts of the market, like elements of the Ponzi scheme, which has Ampleforth. And you have like this thing where the community owns all the coins, there's no premium and you can govern it yourself via governance, um, and where you can farm it via the synthetics contract. So it combined these three very, very attractive and very successful components into something new. And I think the demand to farm this asset, I are this synthetix stake in contracts was insane, right? Within the first 24 hours over half a billion dollars went into these contracts that hadn't been audited. So it was basically brand new project that did not afford because of the failed launch or so did not afford to get an audit. And that's how it basically kicked off, right? The hype around YAM

Anna (25:10):
But the hype around YAM didn't last particularly long. I remember it being about 24 hours before the sort of bug vulnerability was discovered and people I guess, started to like take all their money out if they could, what was the actual bug? What was the thing that broke Yam? And I know that the project is still alive, so maybe it's not actually broken, but what broke it then at that launch.

Tarun (25:30):
I can take a shot at explaining it. Um, I think the rebasing mechanism was broken. It mentored too many new clients. And, the problem was that some of these clients were actually meant it in the yam treasury, which is like a place that governance can control it. But the thing is because so much of the supply was actually in the treasury. It couldn't vote for getting it all out the treasury. And that's our basically a lot of like all the supply got kind of messed up and, um, and that's why they basically had to go back to the drawing board. So that's how I am. I understand it.

Anna (26:09):
But I do think of it as sort of a precursor to sushi swap because it was this like extremely exciting moment where this thing comes out and everybody jumps on it very quickly. And I think if we now turn to the sushi swap launch and like how that, like within, I don't know, two, three days generated such excitement, it has sort of a parallel. It seems to

Tarun (26:30):
The one thing, like one more thing that we should maybe mention is Yearn finance and YFI. So YFI, it's the governance token of your own finance and it is, I would say probably the blue kind of talking blue chip project of this particular market cycle so far in the sense that it's just a very good project and it has performed incredibly well since launch. And like a lot of people have missed out on this because it went so fast so quickly. And there was just a lot of regret in the air. Like everyone you talk to. So it was like very regretful about kind of missing the run-up on YFI. So then suddenly that increased the risk tolerance a lot. Right. So there was a lot more to get in earlier, basically for more to get an early on, on any kind of new project.

Anna (27:21):
Like how did sushiswap actually start? I don't really remember the first time I saw it announcement on Twitter blog post, I guess there was someone named Chef Nomi who was the developer. And as far as I know, like the sole developer behind this, this thing, right, there was no team. Really. I know that there was somebody who joined for community soon after, but the actual initial thing was just one developer.

Tarun (27:45):
I don't exactly know what the Chef Nomi timeline was, but, but more or less, you know, I was in a bunch of telegram groups and all of a sudden it's like everyone, by the way, are you hungry for Japanese food? And I was like, what the fuck? And uh, and then, then I like looked at the site and I like this thing is a fucking joke. It's just like, we have the finest omakasi that you can make with your LP shares. Like the entire thing was like reading, like there's a menu. Yeah. One interesting aesthetic thing about yield farming is it like brought out these 1980s video game vibes at first and then yams changed that aesthetic to this. Like how do you make a narrative around food? And then sushi really took it one level further of like, there was almost a plot.

Tarun (28:36):
So it feels like you're in a video game. And I think that's the thing that has really been the driver. Like a lot of the stuff feels like the video game and like the types of people who are like, I'm going to put tons of money in and like, not think about it or like people who I kind of view as like thinking of it as a game, less of an investment. I mean.

Hasu (28:53):
If you compare this like to something like another big project that has a lot of money in it, which is Bitcoin is like extremely user unfriendly and like even hostile in many ways, but this is sort of by design because it shows you that you are responsible for your money. And there are consequences to actions. Whereas defy is taking like the new breed of kind of defect project is taking the exact opposite approach, which is kind of, it is the gamification off, basically financial applications. So...

Anna (29:27):
There is a word for that, by the way, casinos, it's not totally new that you make it shiny and flashy and fun.

Tarun (29:38):
Yes, that is, yeah. That is exactly defy is doing right. This, this stuff is just as risky or more risky as like all of the other cryptocurrencies and projects that we had in the previous years where people, lost funds sort of by user error or because something went wrong, but people feel a lot better about putting their money, the same money into stuff that looks very cute and gamified.

Anna (30:02):
Totally. So yeah. The sushi swap kind of what let's define what sushi swap was or is, sorry, I shouldn't say it's still around. Let's define what sushi swap is then. So sushiswap is a fork of uniswap, although to start, was it actually a fork?

Hasu (30:18):
So yeah, that is actually something that I've seen. A lot of people get wrong. So a lot of people started saying that sushi swap is a fork of Uniswap or it's an exchange. Like it was really just the staking contract for uniswap tokens. And that's why so many people were confused. So why is uniswaps volume going up? Why is like the total value locked in uniswapp going up? And there's this new competitor. How does this make sense? And the reason is that all of the money quote unquote in sushi swap was actually in uniswap, because sushi swap was just a place to stake your uniswap tokens. So uniswap actually saw a huge boost in capital and in trading volume from sushi swap. That's what happened initially. And then the idea would be that there's a quote unquote migration. We have people agree that sushiswap is allowed to go to uniswap with the state. You want to stop empty shares, withdraw the money from uniswap then put it into a forked version of sushiswap, but they did not prior to this exist. And that is the moment when actually the exchange sushi swap would go live.

Anna (31:31):
Yeah. So this, I mean, we kind of mentioned this, but like when one would provide liquidity and uniswap, you don't receive governance tokens, but you do receive these LP tokens. What did you just call them?

Hasu (31:47):
The epi stands for liquidity provider.

Anna (31:49):
Yeah. So the liquidity provider tokens, and that is what you would actually take and then stake or put into the sushi swap contract.

Tarun (31:59):
One, maybe slight nuance, technical detail about the sushi swap contract is that they included, you had to authorize a transaction that allowed for this migration to work. And what that being migrate basically means. Imagine you put Eve and I don't know, what could you stake? I mean, there are a ton of things. Put magic, put Ethan and synthetics into a poolshare SNX you generate some LP shares. So you have 10 shares, you stick it in sushi swap, but you also signed a bunch of transactions that say, Hey, when the sushi swap admin key calls, migrates, it takes my sheriff, destroys them and then makes the exact same version in sushi swap. And you sign a transaction that allows them, which is a slight difference in normal staking where you just get paid and it doesn't take mutation rights, like mutability rights on your LP shares. So that, that mutation thing is quite different than the normal staking. That's where the vampiric part comes in. All the technical ones.

Hasu (33:04):
Very good that you point that out because usually, uniswap could not take the capital from your LP shares and migrate them somewhere else. Right. So that is something that you signed exclusively with sushi swap.

Tarun (33:19):
It's a little bit like investing in an activist headphone. Yeah. In a sense. Yeah.

Anna (33:24):
So once this like liquidity provider, someone with LP tokens had moved or put their LP tokens in the sushi swap contract, they started to receive, what did we call them? Sushis, sushis. So the sushi token, I say this, like it happened so long ago anyway, but we started to receive sushis or one would start to receive sushi token. That would then they could actually take that out at any point and sell it if they wanted to a small marketplace or actually I guess, a pretty substantial market bloomed out of that. It was

Hasu (34:01):
What's the most traded token, the highest trading volume token in defy for the initial like three to four days.

Anna (34:07):
And at the time, I guess like you have this brand new token is kind of being dumped on the market. Like who's sitting there being like, give it to me at $10.

Tarun (34:15):
So there's a bit of a really amazing game that goes on in almost all of these things. That's recursive, which is every one of these launches realized that once you're paying people for all this liquidity, they need somewhere to trade it, but there's nowhere to trade it. There's no like finance, isn't gonna list you coin missing. Unless you, what you do is you give people a bigger bonus for minting, Uniswap, LP shares of that token to ETH or that token to USDC.

Hasu (34:44):
Or basically market-making the token against other existing, um, coins such as ETH or USDC.

Anna (34:53):
And that's how they provided the liquidity for those people who are trying to sell it. Oh my God.

Hasu (34:58):
Yeah. But I mean, you have to go a step further and realize that we talked about impermanent loss, right on uniswap. And when you provide a token, like eat or USDC and then provide sushi against that, then, I mean, sushi is a token, we have no idea where it's supposed to trade, right. At any moment, it could like go five facts or it could lose 95% of its value. And when that happens, you actually stuck with basically the worthless talking off the two. So you, you incur a lot of impermanent loss. So nobody would really market make these tokens, these super liquid tokens. If they wouldn't get a large, extra incentive in the form of even more sushiswap tokens. And that's why you would earn like a hundred sushi tokens in a regular second contract. And in the same, at the same time, you would earn a thousand sushi tokens in the LP contract if you put it there.

Anna (35:57):
If you had put your LP tokens over, were you still actually generating any of the like liquidity provider fees from uniswap at the same time?

Hasu (36:07):
You were, you were a uniswap LP at the entire time.

Anna (36:12):
I don't know if you can tell, but I did actually experiment a little bit with this, but not clearly, clearly didn't fully understand everything that was happening also was not very much money.

Tarun (36:21):
So, uh, one of, one of the great beams that the LINK Marines have come up with for this idea that, Hey, you're providing liquidity to this for this new token and ETH. And then all of a sudden, the token price crashes and you hold a huge amount of losses, is the rug pool, getting the rug pulled under you. And there's so many ridiculous memes I've seen of like Pepe, the frog having like another Pepe, the frog, like pulling the rug under them. And it's like, I mean the level of like artistic creativity, that's gone into these things might surpass anything I've ever seen in crypto. I mean, it's, it's, it's like truly the memes have made their own economy.

Hasu (37:05):
And I mean, it goes back to this kind of gamification of any kind of financial application, right? Because it's not fun to incur like natural ones of impermanent loss to your LP your shares.

Tarun (37:17):
But, but it's fun when you can tweet that I got rug pulled.

Hasu (37:21):
Yeah, exactly. So I generally think it makes you feel better about yourself when you have these kind of memes to fall back to.

Anna (37:29):
I mean, so there was this, this one kind of tweet or narrative that I remember, like about three, four days after this launched, which took it in sort of a different direction, which was this idea that uniswap was a VC backed kind of, even though it's such a new project, it was like the man that like the community needed to take down and that by using sushiswap, you were making the community driven version and you were actually like taking the funds away or taking the power away from the VCs. Um, what did you think about that?

Tarun (38:05):
All I have to say is this is a nonsense assertion. You know, slop is the only public good that exists in Ethereum. Like other than the chance off, in some ways the liquidity providers get all of the revenue. Like there's no company getting the revenue, right? Like uniswap. Like it just boggles my mind that you've convinced yourself that like, you need a community, which ended up being an exchange owner and nine out of eight other people as like the owner.

Hasu (38:33):
I mean, you can really like an image I like to draw is imagine you live in a city and that's like a public park that everyone can use. Okay. And then there comes a group of activists who basically take over the park saying we are taking it away from the man. We are giving it to the people, but they create like fences all around it. And they charge five bucks entry because that is exactly what sushi swap is. They take uniswap. They make it worse. They charge money for it.

Tarun (39:05):
But the beauty of such vampiric capitalism is that there's always another Japanese food, AK sashimi swap, which eventually kind of took a ton of liquidity from sushiswap.

Hasu (39:16):
And then yeah, there were like a bunch of more kimchi swap. I think I saw one.

Tarun (39:21):
But that one had a bug and people got very hard.

Hasu (39:26):
Going actually back to the example with the park. So let's, let's, let's actually say there was someone who fenced made fences all around the park and started charging entry. So it's not all stupid, right? Because privatization is actually valid strategy, the vetted solution to many strategic problems that exist in the real world. So because once you have someone making money from the park and people paying money to enter the park, you actually have someone who was in charge of the park was the sole owner of the park and who was incentivized to make the park better to guess like, what might people want to do in my park? What kind of food can I offer? What kind of drinks, what kind of activities, that makes sure that the park is kept clean. Right? So that is really the idea behind adding ownership tokens in a sort of governance token to a project because it basically attracts people who care about the project and to want to make it better. So that is what I would say is the bull case for any kind of governance token in crypto.

Anna (40:36):
So like the migration originally was planned for two weeks after the project launched. I remember that. And then at some point the migration date got moved up and that was just around the time that the market took a little dive, not a huge one, but like all crypto prices went down. And that day chef Nomi started to sell some tokens, some sushi tokens for ETH, that it seems like the community was not entirely aware he had access or he, or she had access to or full access to because there was never really talk about this pool of tokens. Was everyone aware that there was like one key, basically one individual who owned, who had access to them?

Hasu (41:19):
So I wasn't aware of it. I mean, I think in hindsight it was edit some sometime later I think actually some, some people on Twitter suggested that they create a, develop a fund where 10% of all sushis created its actually siphoned off into this fund and put away for future development efforts, such as security audits, but also contract work, you know, design, uh, marketing, that kind of stuff. That is basically the money or part of that money that chef Nomi then took in withdrew.

Anna (41:52):
Yeah. So chef Nomi started to sell off a lot of the sushi that was in their possession and it dumped the price. Even further people noticed it was sort of two big sums that were dumped on the market. And people started to get very angry. The reaction was odd. Chef Nomi during this entire time was tweeting with people and saying like, Oh no, all I have to, you know, I just, I don't want to worry about the price anymore. And I'm too conscious about the price. So I'm going to take my winnings and then I'm going to keep doing this thing. Don't worry about it. Um, any theories we don't want to go conspiracy theory. I get it.

Hasu (42:30):
To me, it seemed like we had a very inexperienced person on our hands who was suddenly in charge of a big project and maybe got a lot more attention than they thought. And like, they may be at all of these kind of ideas and dreams where they would turn it into what they would do with all the money that they earned and then like a few things happened. Right. So I guess like the biggest one is that the price started going from like $10, $11 to around $4. And when they basically lost their nerves, I would guess, I mean, they saw it going to zero and saw basically the experiment failed and thought of before it goes to zero first, let me actually try to pull up the migration. And when that didn't work out, I think there was a backfire at the immigration contract.

Hasu (43:18):
So they're saying that we have to fix that first and they just cashed out in rent. So that's, that would be my interpretation of it.

Tarun (43:27):
Something very important to note is that there was an very aggressive listing of sushi on FTX first, like within 24 hours and then finance within another 24 hours. That doesn't happen very often. And I think that furthers a lot of the WTF thing, because, you know, finance used to charge people a million dollars plus like block stack, which, you know, it was a little bit of a zombie project land. Like they, they had to pay a crazy amount to buy it because they had to publicly declare it cause they did a reggae, right. They paid like $3 million. Right. And somehow now they're just like listing food coins without thinking like there's something, something was very, you know, I don't get me wrong.

Tarun (44:14):
I think the exchanges are run by smart people. And they were very opportunistic when they saw that.

Hasu (44:19):
I mean, and they didn't just list the spots sushi, the futures. Perpetuate swaps for sushi. I mean, so like this is the, of like for years, ether didn't even have like perpetual contracts or like the largest exchange or so. And I mean, some of the coins actually in the top 10 don't have perpetual swap contracts on these exchanges. And then you get a token like sushi, which gets a petrol swap contract on the first day. So you really have to go and think so why did this happen? And so the idea was unlike what many people suspected, and that was actually not evidence for this as well. Is that Alameda is basically, I don't know if like FTX is like a subsidiary of them or whatever, but they are basically market-making from trading from a, that have a lot of capital and they were most of the liquidity in sushiswaps. So they basically went and put their power behind this project and they kept it the, and, and they just farmed it. Right. But when you farm a lot of a token that is very new and it doesn't have a lot of organic demand, then what happens if you try to sell it even like 10% of your tokens, then you would just crash the market to zero basically. So they knew that they, they couldn't say their stake at least immediately. So they would have to sell it.

Tarun (45:43):
Well, they were selling it and the price dumped to 50 cents, right. From like $5. And then remember on day one, it was like, there was like $60 million from like three addresses that in Nansen for instance, you can see are tagged as Alameda and, uh, which is a lot of money for on and smart contract. And now no one seems to blink an eye at doing that. But, you know, there was a lot of money in there and they were farming like 80% plus.

Hasu (46:11):
Wow. Okay. That's even more than I thought

Tarun (46:14):
In the first 24 hours before all of the like kind of dumb fund managers just were like, Oh, Alameda is doing it. We'll do it too. Which is like, I think my messages were filled. People were like, Hey, what's the sushi thing. I heard that the Alameda is going in it. Should we just go in and size? And I was like, what? Yeah, but in the beginning they were farming like most of it, but the problem is they started selling it. The thing is you're incentivizing people to take us in permanent loss by having them stake, their LP share to like, make sure there's a market for it, but they were really crashing it. And then the future comes out.

Hasu (46:48):
Yeah, exactly. Yeah. That's what I was gonna say. So you really can't exit that position in a normal way, but what you can do if you're an exchange and I mean, I think FTX is, is partially owned by Binance. So they actually have like a, how do I ask you to Binance as well? Right. So Binance on ethics, both did, was list the token and all this. Yeah. Like you can assume that like all of the sales side of the order book was probably FTX or Alameda selling their own tokens, the entire state side of the future. So that book was Alameda hedging, their long position in sushi. So they really did this as a way to offload their sushi tokens to their customers. Yes, it is. It is crazy.

Tarun (47:40):
There's a reason. There's a lot of regulation that exists in non crypto land of like exchange owners. Shouldn't be prop trading on their own change, which happened in the early, early electronic markets, which is the third largest U S exchange was made by high frequency traders as a way to compete with NASA and nicey and FTX is very, yeah, don't get me wrong. FTX. Technologically is by far the best exchange like the other exchanges or boomer finance, but FTX is probably, I would say of the caliber to know what they're doing. And they also saw this opportunity to like take away liquidity from you and the swap, which had been starting to eat away at a lot of exchanges, right? Like the thesis of the following. There's the big cap crypto. So eith BTC going to be dominated by Binance, Coinbase, Kraken whatever.

Tarun (48:29):
There's a mid cap of like, you know, a hundred million market cap to a billion. That's going to be dominated by the FTX of the world. People who provide really good technology for trading shit coins. It's not going to be provided by someone who is with like a terrible API that doesn't respond correctly, like binance. And then there's the really low cap. The long tail as uniswap users would call it of like assets that like, who knows if like people want to buy my like Supreme sneaker, NFT, tokenized, but you know, I can make a uniswap market cause it doesn't really cost anything and people can go buy it. And this long, this fat tail thing, this food coin and precursor decision swapped me the like long tail seep into the mid cap where like you can have a yam coin that reaches a hundred to $500 million market cap range and all of that liquidity and all of that trading is not at binance. It's not an FTX and it's not a Coinbase. It's all on uniswap. That's scary decentralize exchanges. So they're very much incentivized and they're also not idealistic in the way that I think a lot of the developers side is. And they're they think of adverse selection. They're much more incentivized to try to do these vampire attacks, especially as the market caps go up and the volume goes down.

Hasu (49:45):
Yes, so something, maybe to mention is that in the weeks before sushi swap, uniswap actually had some of the highest trading volume in olive crypto. So they actually had higher trading volume than Coinbase, not just Coinbase pro. I saw like Coinbase and Coinbase, we take combined. So they should insane trading wording red. I think that many centralized systems were generally like shit scared about them and still are today. And I mean like you can, we can speculate of course, but from the vantage point of being a centralized exchange, it would make a ton of sense to fork uniswap and try to drain the liquidity, but in a way that you at these like either fully or partially on the exchange yourself, right. And can actually get these profits for yourself.

Anna (50:37):
So let's talk a little bit about the aftermath of this. Like I think we're still at the point of the exit scam right now, and people are freaking out after chef Nomi has left. Right. We haven't actually done the migration yet, like just in terms of our day.

Tarun (50:51):
Oh, okay. Yeah. In case you're wondering, and I was going to make a movie about you. No, I'm kidding.

Anna (50:57):
Who will play the chef?

Tarun (50:59):
I just want to like, I mean, she's, she's like the narrator in like a, you know, like the movie...

Hasu (51:04):
Ive watched it.

Anna (51:07):
Okay. So the, this aftermath, but actually, maybe even before we do that, there was one other point that was often mentioned, which was not only the, you know, what you're talking about, the threat to the centralized exchange, but it was also this idea of potentially Solana or like, what is it Serum which lives on a different blockchain...

Hasu (51:25):
Another layer one blockchain, like in terms of, okay, they'll hate me for this. But in terms of like their design philosophy, you can kind of compare them a bit like to EOS in the sense that they have a few validators and they run extremely powerful, expensive machines. So they are basically very, very high throughput, low latency, blockchain.

Anna (51:47):
And they had on top of them, Serum built like there's a Dapp or something that lives on their blockchain. And there was some talk and I guess that never happened, but there was some talk of like migrating sushi and this, I didn't actually understand how this would work, but like when the migration would happen, they would actually happen on this ceremony.

Hasu (52:05):
I would basically fork it and create a investigate, a fork of sushiswap on Serum.

Anna (52:12):
How would it then interact back with

Tarun (52:15):
This is, this is a, an interesting thing that covers many of your prior guests on the show, which is that, uh, Saram, you know, I think when Sam first, Sam's the founder of FTX, first mentioned it to me, I was like, Oh, so how are you going to do the cross-chain stuff? And he's like, well, you know, Solana's gonna figure it out. And Solana was like, well, Prestwich is going to figure it out. And so theoretically, and I don't know exactly how this is going to unfold, but theoretically there's supposed to be a safe cross chain bridge, kind of like things you've talked about many times on this podcast, which is a very hard thing to build extremely hard. And lots of people have made really crappy ones that have been exploited and people lose funds. And Serum was supposed to actually be cross chain to Bitcoin and ETH, theoretically. And so the idea is, you know, sushiswap could basically take advantage of that.

Anna (53:07):
Is it built out of smart contracts that live on Solana?

Tarun (53:10):
It's built off smart contracts that live on Solana. So on that. Uh, so like there's, there's a relay contract on it. So the relay contract is like something that relays the state between the two. And the problem with this type of stuff is that a, a lot of like fancy cryptography people use on the new chains. Is extremely slow or it's incredibly gas expensive on ETH. So you can actually see there's a bunch of EIP is that people have proposed for pre compiles of like BLS and other cryptographic primitives so that these relays can be faster. Otherwise they're really expensive. And the way they get over the expensive thing is by lowering the trust model of having a relayer and you trust that like there's enough relayers is that I won't lie about the state transition, which whatever, but that's what people are doing. So my, my point is like FTX, hasn't solved this problem. Solana hasn't solved this problem. And you know, a lot of the scalability solutions really rely on good real areas. And as we all know, our friend press, which is the expert in all of this...

Anna (54:14):
I don't know if I just missed it. But did you mention what the relationship between FTX and Serum actually is? Cause I don't understand you, you put them, you speak about them in tandem. So ...

Tarun (54:23):
I'll get, I'll give a little background because I've known Sam for a while and I know a little bit of a backstory behind this, which is so Sam in may was like really interested in defy. And he was like, this is actually going to eat, potentially eat our lunch because okay. Sam is like order of magnitude smarter than all the other exchange owners. So remember that he's like a math person, Sam was the first exchange operator to view liquidity mining the synthetic style thing as a threat and realize that like, Hey, this could actually take away a lot of volume from my exchange. And here's the first one to like really spend a lot of time reading code, reading the papers under cause he's like, he's a very technical person compared to other folks. And he basically in may was like, shit, I need to, I need, we need to build a DEX.

Tarun (55:15):
We need to actually be on top of this because like, you know, finance decks as a joke, they run all the nodes. Toby's whole thing is like, it's kind of complicated and involves Nervo. Some Chinese government is slow. And I don't know, there's like a lot of complication with the other exchanges because of they're in China. Right. So they can't quite do the DEX thing as well, but FTX was in a good position and they were like, okay, what should we use? And because they're HFT people, they were like, okay, what's the lowest latency layer, one blockchain we can find. And that's on because Solana's written with like latency in mind, right. Because it's a bunch of telecom engineers. I kind of told him. And basically he was like, I gotta do this now. And so he set up the whole thing. He was like, okay, here's how we're going to do it. We're going to do on Solana. Someone's going to build a bridge to ETH and Bitcoin. And then we're going to have a DEX. There's going to be all the Solana validators are going to earn some rewards. And he set that up within a month. Like I think in June was the announcement, something like that. And you know, I think for better or worse, he's the only operator who realized

Tarun (56:24):
That this was going to come. And he announced everything at the right time. He also owns a prop trading firm that was farming in June. Like they were the biggest comp farmers for instance for awhile. And it's very clear that there are the personalities involved. There's kind of this, like, there's like a huge lead up to the sushi thing. And I think he knows an opportunity when he sees it versus like some of the other exchange operators, just like we're like way too late to the game to realize that that it's possible for DEX CEO.

Hasu (56:53):
I mean, yeah, that's such a great explanation. And I think what most people don't appreciate about sushi is today, just look at these events and maybe you see them as like some standalone thing, but like with every great event that kind of happens to us like this, it's almost like you only see like the very tip of the iceberg when you look at the event itself and don't look at everything, all the parties involved, their motivations and maybe how, who of them fit that corner.

Hasu (57:21):
Two of them fit like the, had to make a move now. And that's always what leads to like an eruption like this. And so like some, not someone like Chef Nomi, right? He's someone like that. The media latches on to like the crypto media, but he is, he's a pawn. Like here's a tiny pawn in this story. He's irrelevant. Like completely irrelevant the money talk us irrelevant. He is a person that's irrelevant. There are like way it's basically fighting against each other, like large exchanges, extremely intelligent, well capitalized people are dueling it out.

Tarun (57:55):
We should say extremely intelligent, well capitalized versus follower people. So like another dynamic that's very important is that people kind of are like, Oh, Alameda is doing it. I'm going to do it too. And this, like, there's kind of this dumb follower mentality, which is what made sushi is volume gross or high. Is that like, Oh, they're, they're doing it like, Oh, we gotta go into, it's like, there's this herd mentality. And that's also quite an important dynamic in the incentives.

Anna (58:22):
Okay. So I think we're going to stop the episode on the Zk podcast here, but this episode is not finished. So please head over to uncommoncore. I'm going to add the link in the show notes and there you can actually hear part two or actually the rest of this interview. So see you there.

